<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>ex02</title>

</head>
<body>
<!--
<h1>Nokia phone</h1>
<textarea id="nokiaDraft" onchange="nokia.makeDraft()"></textarea>
<button id="nokiaSend" onclick="nokia.sendMessage(iphone, nokia.draft[nokia.draft.length - 1])">gui tin nhan</button>
<button id="nokiaInbox" onclick="nokia.showInbox()">tin nhan den</button>
<button id="nokiaSent"onclick="nokia.showSent()">tin nhan da gui</button>
<br/>

<h1>iPhone</h1>
<textarea id="iphoneDraft" onchange="iphone.makeDraft()"></textarea>
<button id="iphoneSend" onclick="iphone.sendMessage(nokia, iphone.draft[iphone.draft.length - 1])">gui tin nhan</button>
<button id="iphoneInbox" onclick="iphone.showInbox()">tin nhan den</button>
<button id="iphoneSent"onclick="iphone.showSent()">tin nhan da gui</button>
-->

<script>
    function Mobile(battery, status, draft, inbox, sent) {
        this.battery = battery;
        this.status = status;
        this.draft = draft;
        this.inbox = inbox;
        this.sent = sent;
        
        this.checkStatus = function () {
            if (this.battery > 0 && this.battery <= 100 && this.status == true) {
                return true;
                alert("dien thoai dang mo");
            } else {
                return false;
                alert("dien thoai dang tat");
            }
        };

        this.chargeBattery = function () {
            while (this.battery < 90) {
                this.battery += 10;
            }
        };

        this.turnOn = function () {
            this.status = true;
        };

        this.turnOff = function () {
            this.status = false;
        };


        
        this.makeDraft = function () {
            if (this.checkStatus()==true) {
                this.draft.push(prompt("moi nhap vao tin nhan"));
                this.battery--
            } else {
                alert("may dang tat nguon");
            }
        };
        
        this.sendMessage = function (mobile, message) {
            if (this.checkStatus()==true) {
            mobile.inbox.push(message);
            this.sent.push(message);
            this.draft.pop();
            this.battery--;
            mobile.battery--;
            } else {
                alert("may dang tat nguon");
            }
        };
        
        this.receiveMessage = function () {
            if (this.checkStatus()==true) {
            return this.sent;
            this.battery--;
            } else {
                alert("may dang tat nguon");
            }
        };
        
        this.showInbox = function () {
            if (this.checkStatus()==true) {
            alert(this.inbox);
            this.battery--;
            } else {
                alert("may dang tat nguon");
            }
        };
        
        this.showSent = function () {
            if (this.checkStatus()==true) {
            alert(this.sent);
            this.battery--;
            } else {
                alert("may dang tat nguon");
            }
        };
    }

    var nokia = new Mobile(100, true, [], [], []);
    var iphone = new Mobile(100, true, [], [], []);
    nokia.makeDraft();
    nokia.sendMessage(iphone,nokia.draft[nokia.draft.length - 1]);
    iphone.showInbox();
    nokia.showSent();
</script>
</body>
<!--<script src="ex02.js"></script>-->
</html>